###############################################################################
# chef environment
###############################################################################

chef_environment:
  name: virtual
  description: Virtualized BCPC Environment
  json_class: Chef::Environment
  chef_type: environment
  override_attributes:
    bcpc:
      cloud:
        domain: "{{ cloud_domain }}"
        fqdn: "{{ cloud_fqdn }}"
        vip: "{{ cloud_ip }}"
      dns: "{{ dns }}"
      grub:
        cmdline_linux:
          - net.ifnames=0
          - biosdevname=0
      nova:
        cpu_config:
          cpu_mode: custom
          cpu_model: qemu64
          cpu_model_extra_flags:
            - abm
            - lahf_lm
            - popcnt
            - sse4a
      ntp: "{{ ntp }}"
      openstack-flavors:
        enabled: true
      proxy: "{{ proxy }}"

###############################################################################
# chef databags
###############################################################################

chef_databags:
  - id: config
    openstack:
      admin:
        password: ICem9DTIdykCVADkxpxw
    ceph:
      fsid: 3304a7de-2aa8-4280-bb4c-276be355a3a5
      mon:
        key: AQBHiBlbAAAAABAA16wwG/QlKJvj6CwrGIW5Fg==
      bootstrap:
        mds:
          key: AQBMiBlbZsXPKBAAsgQe25QX8f1h0SavIlcILA==
        mgr:
          key: AQACPilb3f17HhAAtU2dbXufQYsMoR9/9P10yA==
        osd:
          key: AQBNiBlb4tnNMxAAJRMAVzczIADaHD7CDEw9Hg==
        rgw:
          key: AQBLfRtdWPC3FhAA8uMHA69x7dbKIMuYsMHHXw==
        rbd:
          key: AQBQfRtdEhH7BRAAmCVkTxnTqdm/k4dadzK7lA==
      client:
        admin:
          key: AQBMiBlbzzxcBhAAd2HrPAGJoMHhCH6pF3aNkA==
        cinder:
          key: AQDb+CNbgjT2IxAAgapBlNpPcS/+tpn8FffiVA==
        glance:
          key: AQDKpyJbV9CYIRAA6aDb1mQb/Q+0hLmezA5iOQ==
        nova:
          key: AQBRfRtdLrfAFhAA48geldH/5rBKiBg/5mkoXQ==
    etcd:
      ssl:
        ca:
          crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUQ2RENDQXRDZ0F3SUJBZ0lVUm1qcDN2UkFiUVAwV0wvbWRkM01DOVNlV2h3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd2VqRUxNQWtHQTFVRUJoTUNWVk14RVRBUEJnTlZCQWdUQ0U1bGR5QlpiM0pyTVJFd0R3WURWUVFIRXdoTwpaWGNnV1c5eWF6RVZNQk1HQTFVRUNoTU1RbXh2YjIxaVpYSm5JRXhRTVNFd0h3WURWUVFMRXhoRlRrY2dRMnh2CmRXUWdTVzVtY21GemRISjFZM1IxY21VeEN6QUpCZ05WQkFNVEFtTmhNQjRYRFRFNU1ETXhOVEF3TWpBd01Gb1gKRFRJME1ETXhNekF3TWpBd01Gb3dlakVMTUFrR0ExVUVCaE1DVlZNeEVUQVBCZ05WQkFnVENFNWxkeUJaYjNKcgpNUkV3RHdZRFZRUUhFd2hPWlhjZ1dXOXlhekVWTUJNR0ExVUVDaE1NUW14dmIyMWlaWEpuSUV4UU1TRXdId1lEClZRUUxFeGhGVGtjZ1EyeHZkV1FnU1c1bWNtRnpkSEoxWTNSMWNtVXhDekFKQmdOVkJBTVRBbU5oTUlJQklqQU4KQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBbEc5K3M1RUZvbzVheERlUWhKMkdVVnNSanRRUwp5UGhDeXZScXdlbEsxY01XVnNpbko4dWZ2MzhHMHQzSENPL2Rocmk0N2w2VXNGRVFzZXI0UGRMMzZPbTIyMDE1CkZxeHFJenpERmhDMUpMdHMvaHhnOXlSUmozYnVrWnZzL2NFOUR3ZTc0ZXJyNjVKeDZxYmNRVjM0Q3A1UHZNN3EKUkVBNHVrQVlXTGliUkprOXpFaGtpbFcrR0ZXRHoxWGJWUmtnb2x0SFpOOFZ2ajI1NHlDRzl2NWZaMjZTb3hiKwp5RU1wYmd6N2wvZUlUa0ZyR0h3UHY0T0kyT1dRalFMc3QyTXhoMERkaUpBcjFNZ0g0SmpIRFdFRVRaeHdPQjZ6CmlLNEdvTkFBUVhpd0NjUXdTd1FjYzJJeUdob0lrbGR3MTh0cGJZVWhGcWt2ZjVZWTU3OHlzeE5kcVFJREFRQUIKbzJZd1pEQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCL3dJQkFqQWRCZ05WSFE0RQpGZ1FVVW1OSERHekkrOVR2eDZlUTRodFl0ODY2eEF3d0h3WURWUjBqQkJnd0ZvQVVVbU5IREd6SSs5VHZ4NmVRCjRodFl0ODY2eEF3d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFBZE5ZM3VERUFFY0h3MHZqQkoyQmZMcWtJazMKZk5wUGFZSzRsM0NoVmhudEt2N3dZVjBuZ2VkN2FFaHVGdlVySFlDWUVCc01PdkdNZGtmVUpUNGxyajk2TDdEcApvcUozZzZXUEhEMi91c3l4czB4aHIyelAzUXFLY05Ec3liRXBCWWpBb2llQ08vOTFpMlRqUkNLVXVldm9kL3NFCmpZU2w3OFM5Z2dUZHFaSjBldWorS2luWXFiMFZZVVZYQWY3Yi9aQnNVUGJCV3Y5Sko1Sm9EWk5RSVZjWVM4V3oKZWpxTW50UngwNnFlT21UWnhWd0pZR2xWQTRCTzd6OFpaOTBLeExxdHFJWWo1WHk3K3FBUlpsV3hteGxlaWhlaQpqVi8xQW5UWDRKUnVoaE5VTzRVeEIxS0dWQWNrR2MwRFh6ajJTTmdvZ3JIOUNFbzZqUHNhbDRma2QrZz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=  # noqa 204
        server:
          crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVLakNDQXhLZ0F3SUJBZ0lVUldySzFIQU9VdG90Rmp5WnRiUG14RmlnMmJNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2VqRUxNQWtHQTFVRUJoTUNWVk14RVRBUEJnTlZCQWdUQ0U1bGR5QlpiM0pyTVJFd0R3WURWUVFIRXdoTwpaWGNnV1c5eWF6RVZNQk1HQTFVRUNoTU1RbXh2YjIxaVpYSm5JRXhRTVNFd0h3WURWUVFMRXhoRlRrY2dRMnh2CmRXUWdTVzVtY21GemRISjFZM1IxY21VeEN6QUpCZ05WQkFNVEFtTmhNQjRYRFRFNU1ETXhOVEF3TWpBd01Gb1gKRFRJME1ETXhNekF3TWpBd01Gb3dmakVMTUFrR0ExVUVCaE1DVlZNeEVUQVBCZ05WQkFnVENFNWxkeUJaYjNKcgpNUkV3RHdZRFZRUUhFd2hPWlhjZ1dXOXlhekVWTUJNR0ExVUVDaE1NUW14dmIyMWlaWEpuSUV4UU1TRXdId1lEClZRUUxFeGhGVGtjZ1EyeHZkV1FnU1c1bWNtRnpkSEoxWTNSMWNtVXhEekFOQmdOVkJBTVRCbk5sY25abGNqQ0MKQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKK040R09lWks0YVdnOXJYQVh3MDhoMwpicDdSd2VRRnIrdVRVRjBzOTVzMmkwSm1wc3I4RDNhR2FuOGUrL1RzS1dObDNYLzJhWjJWcXJyekpYV0l5NGluCkRZVVlTbzJRNnRZV25iVFJaWDZRdVdsbWl5NTQ1SjJRRmIvR05ORU9KdEV0ZzBTOWdUMzhEOEJqVlkvVnhaM0EKTmFybnNiRGkzdUFvbXdvTFJoMGlRdFNGYVhvbGF6MTRrU1dCNUREeG4ycWFiTHN2OXZZV3BNY3B0REJlUU1SOQpIZmxhNHBFRUd2enZiMkpNMlgxeDNwTWk2WDY1MDVTclowdHc0aEZjTHJYMm15cmVrQkowUTVGU0h1Q2NoRmllCndwbjBCZEpRT25iS21ZeFQvRzFmM3FRQmlJc3d2dFMyeS9RT2ZMSmFycU1jY3ltRkpXTEhkaWZDVWtnbGlpVUMKQXdFQUFhT0JvekNCb0RBT0JnTlZIUThCQWY4RUJBTUNCYUF3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFRwpDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBd0hRWURWUjBPQkJZRUZLTnJQRCtIalIzUmxuOHdndit6ClpFWHFQYzN4TUI4R0ExVWRJd1FZTUJhQUZGSmpSd3hzeVB2VTc4ZW5rT0liV0xmT3VzUU1NQ0VHQTFVZEVRUWEKTUJpSEJBcEJBQUtIQkFwQkFCQ0hCQXBCQUNDSEJIOEFBQUV3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUNYUgpBd0g4MjgwclZkQThQakE0UVY2MUFObERMbi9wbWkyMzMxUTdJQkM0Zm1RZjRaUStSR0pOa0ZGWHhmVGtSQ1lHCldBdWVDU1hsTjl0MFVZVHRTMHlFL1dlVkNyQWlLZy9oN3JHakpSbzhzYjFTVEdyTksxTjJHTThNWUNjclZ1Rm4KZGF2SExqVFQ0UnhxcURnMExmcDl5bEZLdG1INUkxdUwzR2xvd2hOSHNVbTlTeWMzZy9QMVJtVWhCSkpxb3dlawpwd3JMTG1JeWlobDdPSkp2V2tGK04rd0cyTys0cnJIcVN5YWFKNURidnZOcmVpSGJacVVBOG9QY3JCN2I5WkVWCkdqZFN3UU1vY0tlZmsvSlpKVkRYL3dweHN4cjlOSVNoMVQ3blNod09uQWcreVlTdUcxV3JyZktiNnUxbkd3THMKT3hYOUNRZEpUZ2Y3ZWEwR21SMD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=  # noqa 204
          key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBbjQzZ1k1NWtyaHBhRDJ0Y0JmRFR5SGR1bnRIQjVBV3Y2NU5RWFN6M216YUxRbWFtCnl2d1Bkb1pxZng3NzlPd3BZMlhkZi9acG5aV3F1dk1sZFlqTGlLY05oUmhLalpEcTFoYWR0TkZsZnBDNWFXYUwKTG5qa25aQVZ2OFkwMFE0bTBTMkRSTDJCUGZ3UHdHTlZqOVhGbmNBMXF1ZXhzT0xlNENpYkNndEdIU0pDMUlWcAplaVZyUFhpUkpZSGtNUEdmYXBwc3V5LzI5aGFreHltME1GNUF4SDBkK1ZyaWtRUWEvTzl2WWt6WmZYSGVreUxwCmZyblRsS3RuUzNEaUVWd3V0ZmFiS3Q2UUVuUkRrVkllNEp5RVdKN0NtZlFGMGxBNmRzcVpqRlA4YlYvZXBBR0kKaXpDKzFMYkw5QTU4c2xxdW94eHpLWVVsWXNkMko4SlNTQ1dLSlFJREFRQUJBb0lCQUVKZm8rdnRGVmJ6OFdrZQpzVDVyYTc2bUtHZDdQTnhkblV3emtTZmhyL05xb2szeUpBcW5Cc3U0cVE3TzFlT1NacmxKdy9ZYWpOOFlSdGpVCmswMnNwWGJvZjVCUmhab1VvZ3lEaGdHVlpsSmJaRFk3aVVUQTErSFA4YXhBaVBJNm45MCt3Sy9VNGJIbWJLc00KNTZnWk5zY2tFVzlTU1RJYmZybmpTblBJTXRlbEk3ekpPNGk2WjFYdjZqSm5PeWlXYS9NdndNMDVUei9xeDBGZwpYRzJacXlLUzhVVjMvME5URWthNHY4TVhMbTYrRi9KeGVqcURCWHRkcnE0NVNUdlh2b3FXS1M5UVdmVlg0K2t1CklkTFF2OTIwci9oMEYrMGd4MFFVVDdzQWpzTmRnK3dJWXEvc1RvS3oreFJDdDdCOWI2eklRRWZWR1MvUW1NVzEKRDQ4R2psVUNnWUVBMG1NUElhdEo2djFNUWZ0WXYramJBV293TUtYRUIvV2g2VjhGYlY2KzBZL2JQcWVnaisyRAo1OFNtV1E4QkJncFJJRkhaVDR6Tld2TU5Yb0ZDYlZ6SC9uQWVUT0ZpNWhLTTVkMmZTaUd1M0tXSmFWVVU3MG9hClJ3eHBicVB4QVVnV1F4M3UzSEVJY1oxVW5UMWtLV1diYmJsSldKY1hrMVNWVEpUYVpncmhnTWNDZ1lFQXdpVjgKMmJxd01aR0xhMkR5aXZ0ZDBROE9pcE0xajV0Q2NBRG03dm5CTzBiS3VHbWREb0J2Y1ZGblR5THdLa1ZBczBoTwpxQUNCQ2tST3BDMDM0UkNoSDlpNTh6VjFZU3hzV3J2cUYxdnNqTS9Ja2RCN1NaQ1NGUHgyeVFPUEExV2Y3VjhRClhXNENwTUpsNlpBdGRSb1dOb1ErZnk5cWh5bnlDcmNrd2hzQ2liTUNnWUVBeDdxbEhkaW9WdjliU3ZTY0g2eW4KWldOekZtdjRlM24wMlVHTlBIU0xBUlhxRlVROENRZDZoeWhJcUJtM1pnMmJVT3lET3FNNFBWU3E1NElkRndmVApFYmxNK3IycUR6T2pNWUpCZTdZWWRINXV3bUcwZXl0RllSZm1hOVFWczVyRkQ3aTJEKzc3RGlsSHIvTWRTTE9lClovOVVJMWRsV1VnZWFOS1R0L1l5ZVBjQ2dZQXUzWFhCNlRyVy9GYzNXSE96OFBHNG9YWFZKYXZzT29KVEh5U2YKMDFJOXlOenVueS8yYkRKNm5EZmY5b01hOFJTcE1tOHFSdFRmY1pXNk0rQWxTQ3BjMGFneGVWb1lWdXpoQ2pONwo2QWkyQlFKWmtJWHlRQi9EU1I0emI5UjU3WlZwYTJVNzZHNWk3enBDb3pjVjZYSXJQc2tIVXA3WWVkdWZrbzRnCi9Qd2oyUUtCZ1FEUUxSbnNaNVYzc3l3UVFyRlRCd01GMGR4VUx4ZGVRTENKL3JtYWxhZmpLREwxVWlBQ3pGU1IKb1ZvdmdObFNOZXowdU9JWDVJM0FONkY2S2FjTDFYUVA3Q2JVcGh5bmMwVUhpdXRrbE9oWVdUbng5N0VaSjRYSwp0ZENZc2Z1RXI0T1hpTnlVZGJFU2ppWU9wUlZBNXJ0RU9GaEEwMng3eDVLdmhuZHVGeXNvUHc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=  # noqa 204
        client:
          crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVDakNDQXZLZ0F3SUJBZ0lVSUk3UXVjajF0TUVsbEI1dnB6aCtFTmlwZFFzd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2VqRUxNQWtHQTFVRUJoTUNWVk14RVRBUEJnTlZCQWdUQ0U1bGR5QlpiM0pyTVJFd0R3WURWUVFIRXdoTwpaWGNnV1c5eWF6RVZNQk1HQTFVRUNoTU1RbXh2YjIxaVpYSm5JRXhRTVNFd0h3WURWUVFMRXhoRlRrY2dRMnh2CmRXUWdTVzVtY21GemRISjFZM1IxY21VeEN6QUpCZ05WQkFNVEFtTmhNQjRYRFRFNU1ETXhOVEF3TWpBd01Gb1gKRFRJME1ETXhNekF3TWpBd01Gb3dmakVMTUFrR0ExVUVCaE1DVlZNeEVUQVBCZ05WQkFnVENFNWxkeUJaYjNKcgpNUkV3RHdZRFZRUUhFd2hPWlhjZ1dXOXlhekVWTUJNR0ExVUVDaE1NUW14dmIyMWlaWEpuSUV4UU1TRXdId1lEClZRUUxFeGhGVGtjZ1EyeHZkV1FnU1c1bWNtRnpkSEoxWTNSMWNtVXhEekFOQmdOVkJBTVRCbU5zYVdWdWREQ0MKQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNVkFXdzAybkVhMWRldDhIZVNDUDVJbAptekY0ZWZLZExoOTBRMzg0cUcxUVFYY3hYcENTL3hMZ0MveC9kdlMwbE5nQWZ5K2JJTU9Jc2J1ZVBQbTBZL3JBCkxaMkpqdmRqRGoyUVRXVm5PZzk2ZWcwb3BEeHYvNXdNMHlBZDdZVWdnQkp5c2p4NnZxT1dWWW15RmtXM3U0NXgKb0d6eWhoNTNGUldUWFNlWHdzVzBWY2hKMlhha1loY04xQk1rUHRJRnMxNHhZaXFxOUIvVUE5N09vUklZU3pSYQp3em9yenpHMlB4RGdxc0ZUYnpxWUU5a2lpQWhFVGJVdTNHeWxSTExmS05zRWlNZ2E5TFlaUVlkaEt1dTNLZnhZCjltaXkyUlVTb2ora2cyb0FMRms4QVBJSGx1a3F2Wm0yTEhkMVY0WXR0MVFUQ0poYTZnQ2VtSURycTdXL3k1OEMKQXdFQUFhT0JnekNCZ0RBT0JnTlZIUThCQWY4RUJBTUNCYUF3RXdZRFZSMGxCQXd3Q2dZSUt3WUJCUVVIQXdJdwpEQVlEVlIwVEFRSC9CQUl3QURBZEJnTlZIUTRFRmdRVUx0Z0tDMFp1Uy9BbFluM0NUeUN5UmpGcS9MOHdId1lEClZSMGpCQmd3Rm9BVVVtTkhER3pJKzlUdng2ZVE0aHRZdDg2NnhBd3dDd1lEVlIwUkJBUXdBb0lBTUEwR0NTcUcKU0liM0RRRUJDd1VBQTRJQkFRQTVxMTQwdVJTWERYRnhGWUhEdWs2ZDBlNHc2MWJpWno1Sjg4b2NiZDhVODRaSwpRTEM1ckMyOEZFRU5YQVVER0oycEk1QWRud0NJZGVKRExQbk9CTy9ZUHJvbDZERVZYV2MyaW1zZEZMTGhqNEdZClg0NFBUWTBjMk54dnVpZ0dhc2NIQXB1UmxmVmtWMTZmSnVkRFZkR1BXL2pzSGNQc04zTnk3MVUwNW9CQ3NKNGkKNDRxZ1dEdDlwcGprUVZCZVNCRkhvODBGOUV2Z1F5b2VTOTRITlFaK3BBUkpMOENQeHN0QTAwYUEweEs2QVZNcgpsWnlhRXZXOG1OWEkwdnN4VzhCSmwyQzZNUG5RT2xCY2ZObHVFdXFmcGJtODhNRUF4N0tpUm5sL01HWjVaRE12ClJOVnBYRjFITXBnVStyNzVGWmlSTGNLSUZSQTJaZi9KN29GeUlJeG8KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=  # noqa 204
          key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBeFVCYkRUYWNSclYxNjN3ZDVJSS9raVdiTVhoNThwMHVIM1JEZnppb2JWQkJkekZlCmtKTC9FdUFML0g5MjlMU1UyQUIvTDVzZ3c0aXh1NTQ4K2JSaitzQXRuWW1POTJNT1BaQk5aV2M2RDNwNkRTaWsKUEcvL25BelRJQjN0aFNDQUVuS3lQSHErbzVaVmliSVdSYmU3am5HZ2JQS0dIbmNWRlpOZEo1ZkN4YlJWeUVuWgpkcVJpRnczVUV5USswZ1d6WGpGaUtxcjBIOVFEM3M2aEVoaExORnJET2l2UE1iWS9FT0Nxd1ZOdk9wZ1QyU0tJCkNFUk50UzdjYktWRXN0OG8yd1NJeUJyMHRobEJoMkVxNjdjcC9GajJhTExaRlJLaVA2U0RhZ0FzV1R3QThnZVcKNlNxOW1iWXNkM1ZYaGkyM1ZCTUltRnJxQUo2WWdPdXJ0Yi9MbndJREFRQUJBb0lCQURtSnJVV3NjV2VhMVJ2cwo1NWRaZXd1NWxveVd0UlBWVDdmekpTRStPTHN5VnZaYTIxZlcyVHI3U2VQTWxybUkxNFl1bHVzZkdDNlJlQzdmCldMQUtNOFBZUFRZZ0F5a2NwdkhFWHg4K1BreDNrSlM0RHpobC95elkvTmo0Z2VsOGNuOXZINWpPd1Q5Y3dmVFoKa3UraFNiK2lXNGFNTkIwODVWU1cyT3lNczA4UjZSdFVlU0p5MC8wVlFiaVRrazl3SVhZR2ZqZ0lMUE1SaTk2MAo2dVFrdko1Q01VUTJEK3pCTkZDR3o2blM5SDJxS1EzQTVHR1JORGR1RWZlTmJBQVZiZ25LR0FXSjA2eFhpUlhjCjYvS0d6UDRuc0dBV3FaVHBSVHZ6enhUdnpoUGlGYzBFQng5Y2d0anBnL0REY3dQanMySlZZV0NIRlZFaW0xb1gKZzFhWDgra0NnWUVBOHF3L05QeS83cWNzNUx3SU1DbGVCUUY1VDlRVkNNVk1YZHRFbm5vZTVHMm1kNGdKRGhMbgpOR21rS09DN1E0YTRhNXVEOGw2UDlCc3A0aC9sMnI0SHRlM2tWSENhMGhNeit4cjJTVHpWcHc2UWZrMDZjbWlLCnVKVjlOSTlxcUR4VHhjVUx5Nm5Neng2L3BBWU1vMUFTMWtuSGg4dWF4dDF3bCs5ektBem5kdVVDZ1lFQTBCV0cKa25Cd1RaRmQ1NGtSZmp2K0l0MGRYQXpFbG9mRnJXM2VSZWtXLzgrbTgzU20ranlDUGZWcG9objdIVDdGcDd1bApIaVBkWWpRbUNReHdGeHlONER4aS9UQXpCcHN4WHliWm1rMUovd2FneUt3QVU0NlhFZFhaT1MxR3Y2cjQ4cGdNCmR0TDAzSG9UQ0E3QUtqeXZFM2lhQVovbHJNaHFQaWlVUVZGbzdETUNnWUVBdlIxdzBKbGI5ZDlBUkMwbzhHZDgKaHNna1F3clRMWmVjTU5TTkFEZkpWVmtDVHNxcnk5VDlhMEljbFdLMWJTVlRHVUVEcmVEMXJGVnk2VzdVVVFpZwp0NjNocjlCbFJ1dUNLZUZVSjdVS0IzdDVMWVIvMU9NVm9FMlhXbHVkMGVmWm5SazNYUXRCdWZPTGc0YlhXSG94Cmc5L1JhRWxLb0VtMzBoL2dEVWtwSk9VQ2dZQWMwZTVxbCtJbURDMDZaVlNqN0VFOXFPeHBGR2VpQmJvT1ZEcEYKNm92QjhJdktDbTBhR1lsY2RZSWs3bjVHUmF4d2w5Kzl0ZS95cXhCZGpuaHo2d09IZkRXbHBhaGJrT0Vjc2EvUAozRWFVYU9HYUNhQ2Q4aERnYW9NRWxVM0lQRER3d0xoeE9MU3JXTWtNQTZiLzhwbTVFNm9ZOFlHSkZkVUpPT3VYCnhHUEkyd0tCZ1FDdDZNOFh1WkZVSlQ5RmU4ZWtsRGF0bVA1WlEwYkg5eFJuWGlSNnRpL1RVeWQyODljUmVtNisKUEMvS290a2tGRmRacVRvcHdSZ2hzT2tQcVQ3VGRjbzBQWFRORkN5cExRb2xTS0dHUnU2S1g1Nk1rb1JWRUp5YgpnMHdRelFRYzNmQ1VEVHU4dGM3eGxKSzZIU3hvNDRSQXhQOWdMR2w4bm9QcnMweHVXc0ZHcUE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=  # noqa 204
    powerdns:
      creds:
        db:
          username: pdns
          password: s0fB4IV1cJGoVJcq0M6j
        webserver:
          password: c9KBy2dnry6KHxqKrjOx
        api:
          key: aFlXzmZKhmGIUzINRKpW
    keystone:
      db:
        username: keystone
        password: PcXr5UPbUWFUs4c1cT_n
      fernet:
        keys:
          primary: F-kOIX_tCsvD0BK0EenrzAgAt3RVZSqwusZfnHPV6JU=
          secondary: SdRxafSqtXaolhlX-qwcFWEtRIOMKvawZh2ZJLSV_EA=
          staged: Ma3gkc0Xdj-ScVT3_p_23Axh9YciPFMDLbU0-DM6Ktg=
    glance:
      creds:
        db:
          username: glance
          password: 3Dhip8IKy_95O9LwOkpa
        os:
          username: glance
          password: imQo35BowPbPx46OkYdR
    cinder:
      creds:
        db:
          username: cinder
          password: R8H8IhmTOZr2yMCFYc7G
        os:
          username: cinder
          password: EElHi6Zmasnx0MWno92N
    heat:
      creds:
        db:
          username: heat
          password: dRnysxpuoQxINtSJASKw
        os:
          username: heat
          password: qEEIxT47kXzYJaxEnQJw
    horizon:
      secret: XWmecfpS5wS7SMqi4un3
    libvirt:
      secret: 8e4a6c8e-ebe9-4fb2-9df1-e5f15bf41888
    neutron:
      creds:
        db:
          username: neutron
          password: vobFVWV6ncl00RYHEUM3
        os:
          username: neutron
          password: hIoEog8jsvVmFkfLn0Dj
    nova:
      creds:
        db:
          username: nova
          password: j16SvTX95cqg5XjPxTLI
        os:
          username: nova
          password: qHa04uIc1NnkBL9x3YZR
      ssh:
        crt: c3NoLWVkMjU1MTkgQUFBQUMzTnphQzFsWkRJMU5URTVBQUFBSUhBRjhJYVJiRCtpT0tQR0ZQclpHcGQvSnQ1MEh0SWwyZzRPbGZTcWF5dHAK
        key: LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUFNd0FBQUF0emMyZ3RaVwpReU5UVXhPUUFBQUNCd0JmQ0drV3cvb2ppanhoVDYyUnFYZnliZWRCN1NKZG9PRHBYMHFtc3JhUUFBQUlnbGRDV2pKWFFsCm93QUFBQXR6YzJndFpXUXlOVFV4T1FBQUFDQndCZkNHa1d3L29qaWp4aFQ2MlJxWGZ5YmVkQjdTSmRvT0RwWDBxbXNyYVEKQUFBRUJBYmNzRnVIRkpDKzk5c25xZXhSbTRrSWMzRy93K2M3Y1RGZ3FHaURoeVNIQUY4SWFSYkQraU9LUEdGUHJaR3BkLwpKdDUwSHRJbDJnNE9sZlNxYXl0cEFBQUFBQUVDQXdRRgotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K  # noqa 204
    placement:
      creds:
        os:
          username: placement
          password: vB2h9aRbSzB8iqtrQsgt
    mysql:
      users:
        sst:
          password: 5Kag5pGHdhjNAE57quFf
        root:
          password: 96C2sVnLuz0_HFSJg3_L
        check:
          password: q9RG9zphUikPC722OIko
    rabbit:
      username: guest
      password: Rv1GjTlGmfHPiSRt5bqK
      cookie: Y7SAgyFKPcxlzLdT5lJV
    haproxy:
      username: haproxy
      password: nr7oTiMPn3h3ciFv0ZgL
    ssh:
      public: c3NoLWVkMjU1MTkgQUFBQUMzTnphQzFsWkRJMU5URTVBQUFBSUVCbTMvWVRsYlJNRURqY0tEeERzV054am5WMmdxTE9ZOVBPV0NQemt2NDcgCg==
      private: LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUFNd0FBQUF0emMyZ3RaVwpReU5UVXhPUUFBQUNCQVp0LzJFNVcwVEJBNDNDZzhRN0ZqY1k1MWRvS2l6bVBUemxnajg1TCtPd0FBQUlpQmo0S0RnWStDCmd3QUFBQXR6YzJndFpXUXlOVFV4T1FBQUFDQkFadC8yRTVXMFRCQTQzQ2c4UTdGamNZNTFkb0tpem1QVHpsZ2o4NUwrT3cKQUFBRURPaHZMNThMWFhsWmlrY0lUY3pFVEphbEpSS0lralZzRDFYVHJJcWoxMFcwQm0zL1lUbGJSTUVEamNLRHhEc1dOeApqblYyZ3FMT1k5UE9XQ1B6a3Y0N0FBQUFBQUVDQXdRRgotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K  # noqa 204
    ssl:
      key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUNlQUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQW1Jd2dnSmVBZ0VBQW9HQkFOUzBBUFJDRlM3eWZtNWQKcC9XVUN4bTNuN2NGVnFTTlROZjFoUGhwckQ4NkRKdzU4akVmTnp2a2ZoZk1TVzJoejJwSHpNY0VXZXIvODd6YwpwNDRJQ1pOeEp3Y0ZPWDJ6d2dRN3kwelM1bWo2NjM3aHpEYU5saXptMDlTSDl2YlNnYThteXEzL3JPYmFlb01hCk1KRTNuZjZvSGZhL1JEVGtGUm1XMjZzMEI4bFJBZ01CQUFFQ2dZQVBncXpMSXdKK2NPcHRTK0VTbEdBVzJRQUoKalpjYTJyN3V4SldVczhmK3VGSHhGbnlsdmx2OXZ4UyswWVBOUGM1dE5wMGxLaGtRZk9lZUx3ejgyM012TGlxdwoyU1F1ZWp5dXQ0VDlsczFPem5QR0RlU1czdm5NWjBGZisrUkJVOUIvV0ZLTjBMMjZUVU10WnZ1RXpLelg1RmkvClQ1b3F1bno1dnBHeVFaYXFBUUpCQVBlRGkrK1pHdVNPd2kyR3VSd05GQnFHa1Nxc3cyV3lwK25qY0hucVp1MkMKdlovM0ExcEh2SllMeWdCcmpuK0JkUEdTQWNvbUhCaFl6NWNMTTE4ZDlhRUNRUURiL3V1SU5NbjFWUFJmSzdjOQpvWHMrYlpSVUpocllrcHlwZmhDSFVFS0ovbVkwN1Y4blJJcEMybmMwTHNQU0FQbEl6a3JCRSthNmdLZmZ6NUVaCnN0V3hBa0VBcE9FcmNkTnk5N2dsb0FBMEJYeXMzTEt4dDFUWTRVRXUyLzVYYWM5OCsxRHhrc01RcDY1TDhVUXYKTHpKMi9YYzJlTW5EaVc3em5rQmpJUUlrR1lPeW9RSkJBSzE1UUlUeEMyZTNDOU9ZQnpCRUM0allvNlFQUUJBUwozQklTNURtdklpanFQL0h3VTU0RlAva2poK2ZRRUgyaVl1LzBLNkpBYlNvWGxVaTR4alE3ZnFFQ1FRQ25QRGVxClhlNXJBVUJyZlJFRFVLNXg3R2hLclAvZUNyM1NwSEFWVzlVYkl6S2FmY2pKZkFIbzZwbmdxbVlCMkRzY2c1emYKT0xDY3FVY3lTVXRveHQ4cAotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==  # noqa 204
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM5akNDQWwrZ0F3SUJBZ0lKQU5YbURnNlVDd0JGTUEwR0NTcUdTSWIzRFFFQkN3VUFNSDh4Q3pBSkJnTlYKQkFZVEFsVlRNUkV3RHdZRFZRUUlEQWhPWlhjZ1dXOXlhekVSTUE4R0ExVUVCd3dJVG1WM0lGbHZjbXN4RWpBUQpCZ05WQkFvTUNVSnNiMjl0WW1WeVp6RVJNQThHQTFVRUN3d0lRMnh2ZFdSRmJtY3hJekFoQmdOVkJBTU1HbTl3ClpXNXpkR0ZqYXk1aVkzQmpMbVY0WVcxd2JHVXVZMjl0TUI0WERURTVNREV4TURFM05UZzFNRm9YRFRJME1ERXcKT1RFM05UZzFNRm93ZnpFTE1Ba0dBMVVFQmhNQ1ZWTXhFVEFQQmdOVkJBZ01DRTVsZHlCWmIzSnJNUkV3RHdZRApWUVFIREFoT1pYY2dXVzl5YXpFU01CQUdBMVVFQ2d3SlFteHZiMjFpWlhKbk1SRXdEd1lEVlFRTERBaERiRzkxClpFVnVaekVqTUNFR0ExVUVBd3dhYjNCbGJuTjBZV05yTG1KamNHTXVaWGhoYlhCc1pTNWpiMjB3Z1o4d0RRWUoKS29aSWh2Y05BUUVCQlFBRGdZMEFNSUdKQW9HQkFOUzBBUFJDRlM3eWZtNWRwL1dVQ3htM243Y0ZWcVNOVE5mMQpoUGhwckQ4NkRKdzU4akVmTnp2a2ZoZk1TVzJoejJwSHpNY0VXZXIvODd6Y3A0NElDWk54SndjRk9YMnp3Z1E3CnkwelM1bWo2NjM3aHpEYU5saXptMDlTSDl2YlNnYThteXEzL3JPYmFlb01hTUpFM25mNm9IZmEvUkRUa0ZSbVcKMjZzMEI4bFJBZ01CQUFHamVqQjRNQjBHQTFVZERnUVdCQlRoMnphUE1Va2RQL1BsRFFVTHNadjJrOU5oU3pBZgpCZ05WSFNNRUdEQVdnQlRoMnphUE1Va2RQL1BsRFFVTHNadjJrOU5oU3pBUEJnTlZIUk1CQWY4RUJUQURBUUgvCk1DVUdBMVVkRVFRZU1CeUNHbTl3Wlc1emRHRmpheTVpWTNCakxtVjRZVzF3YkdVdVkyOXRNQTBHQ1NxR1NJYjMKRFFFQkN3VUFBNEdCQUxMV1J0RS9QeGdnN0ZIZGMxTlh4dWVscXNVSUhjY1BJM1BDQzNSZEc2S3lWS2NUVm8zZgpDbm9OUGlyamI1KzlJeEFVMkc1YVNYZzFNVVlBd3pZb2YyWU12azRmRGxvNDlodkdBdVJPR0lkMEhQcnlXYkUzCnpHVW4yNWJuWGNoeEc4SHJIamRBWWRrOHd3RjgxbFpzOHdWOU1ub2JjazJjamVyMmZKVVlmRlpBCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K  # noqa 204
      intermediate: null

###############################################################################
# chef roles
###############################################################################

chef_roles:
  - name: bootstrap
    description: bootstrap node
    json_class: Chef::Role
    chef_type: role
    run_list:
      - role[node]
      - recipe[bcpc::file-server]
      - recipe[bcpc::ufw]
      - recipe[bcpc::rally]

  - name: headnode
    description: cloud infrastructure services
    json_class: Chef::Role
    chef_type: role
    run_list:
      - role[node]
      - recipe[bcpc::haproxy]
      - recipe[bcpc::etcd-member]
      - recipe[bcpc::rabbitmq]
      - recipe[bcpc::memcached]
      - recipe[bcpc::unbound]
      - recipe[bcpc::consul]
      - recipe[bcpc::ceph-mon]
      - recipe[bcpc::ceph-mgr]
      - recipe[bcpc::mysql]
      - recipe[bcpc::powerdns]
      - recipe[bcpc::apache2]
      - recipe[bcpc::keystone]
      - recipe[bcpc::glance]
      - recipe[bcpc::neutron-head]
      - recipe[bcpc::nova-head]
      - recipe[bcpc::cinder]
      - recipe[bcpc::heat]
      - recipe[bcpc::horizon]
      - recipe[bcpc::os-quota]
      - recipe[bcpc::flavors]

  - name: node
    description: common role for all bcpc nodes
    json_class: Chef::Role
    chef_type: role
    run_list:
      - recipe[bcpc::apt]
      - recipe[bcpc::ssl]
      - recipe[bcpc::cloud-archive]
      - recipe[bcpc::chrony]
      - recipe[bcpc::postfix]
      - recipe[bcpc::common-packages]
      - recipe[bcpc::kexec]
      - recipe[bcpc::apport]
      - recipe[bcpc::etckeeper]
      - recipe[bcpc::cpupower]
      - recipe[bcpc::getty]
      - recipe[bcpc::hwrng]
      - recipe[bcpc::system]

  - name: storagenode
    description: storage node
    json_class: Chef::Role
    chef_type: role
    run_list:
      - role[node]
      - recipe[bcpc::ceph-osd]

  - name: worknode
    description: cloud compute services
    json_class: Chef::Role
    chef_type: role
    run_list:
      - role[node]
      - recipe[bcpc::etcd-proxy]
      - recipe[bcpc::calico-work]
      - recipe[bcpc::nova-compute]
